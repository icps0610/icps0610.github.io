<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Category: Ror | icps]]></title>
  <link href="http://icps0610.github.io/blog/categories/ror/atom.xml" rel="self"/>
  <link href="http://icps0610.github.io/"/>
  <updated>2017-10-25T23:55:20+08:00</updated>
  <id>http://icps0610.github.io/</id>
  <author>
    <name><![CDATA[icps]]></name>
    
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[Production]]></title>
    <link href="http://icps0610.github.io/blog/2017/10/25/production/"/>
    <updated>2017-10-25T23:51:28+08:00</updated>
    <id>http://icps0610.github.io/blog/2017/10/25/production</id>
    <content type="html"><![CDATA[<p><code>rake secret</code> => config/secrets.yml</p>

<h6>不能使用tab要用space</h6>

<p><code>rake db:create db:migrate RAILS_ENV=production</code>
<code>rake assets:precompile RAILS_ENV=production</code>
<code>rails s -e production -p 80</code></p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Firt_user_admin]]></title>
    <link href="http://icps0610.github.io/blog/2017/10/25/firt-user-admin/"/>
    <updated>2017-10-25T23:49:19+08:00</updated>
    <id>http://icps0610.github.io/blog/2017/10/25/firt-user-admin</id>
    <content type="html"><![CDATA[<pre><code>#models/user.rb
class User &lt; ApplicationRecord
    after_create :set_admin

    private

    def set_admin
   if User.count == 1
     User.first.update_attribute(:power,3)
   else
     return true
   end

  end
end
</code></pre>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Link_entire_table]]></title>
    <link href="http://icps0610.github.io/blog/2017/01/14/link-entire-table/"/>
    <updated>2017-01-14T01:44:58+08:00</updated>
    <id>http://icps0610.github.io/blog/2017/01/14/link-entire-table</id>
    <content type="html"><![CDATA[<blockquote><p>ref <a href="http://stackoverflow.com/questions/4904938/link-entire-table-row">http://stackoverflow.com/questions/4904938/link-entire-table-row</a></p></blockquote>

<p>``` html</p>

<script>
  $('tr').click( function() {
    window.location = $(this).find('a').attr('href');
}).hover( function() {
    $(this).toggleClass('hover');
});
</script>




<p>```</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Bootstrap_notify]]></title>
    <link href="http://icps0610.github.io/blog/2017/01/13/bootstrap-notify/"/>
    <updated>2017-01-13T21:25:05+08:00</updated>
    <id>http://icps0610.github.io/blog/2017/01/13/bootstrap-notify</id>
    <content type="html"><![CDATA[<h3><a href="https://github.com/jclay/bootstrap-notify-gem">https://github.com/jclay/bootstrap-notify-gem</a></h3>

<p><code>gem 'bootstrap_notify'</code></p>

<pre><code>#application.js
//= require jquery
//= require jquery_ujs
//= require bootstrap_notify
</code></pre>




<pre><code>#application.scss
@import "bootstrap";
@import "bootstrap_notify";
</code></pre>


<pre><code class="erb">#app/views/partials/_notify.erb
&lt;% if !notice.blank? %&gt;
    &lt;script&gt; 
        $(document).ready(function () {
            $('.top-left').notify({
                &lt;% flash.each do |name, msg| %&gt;
                    message: { text: "&lt;%= msg %&gt;" }
                &lt;% end %&gt;  
            }).show();
        });
    &lt;/script&gt;
&lt;% end %&gt;
</code></pre>

<pre><code class="erb">#app/views/layouts/application.erb in head tag
&lt;%= render(:partial =&gt; "partials/notify") %&gt;
</code></pre>

<pre><code class="erb">#app/views/layouts/application.erb in body tag
#&lt;div class='notifications top-left'&gt;&lt;/div&gt;
</code></pre>

<pre><code class="ruby">#app/controllers/uploads_controller.rb
flash[:notice] = "uploaded"
</code></pre>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Link_img]]></title>
    <link href="http://icps0610.github.io/blog/2017/01/13/link-img/"/>
    <updated>2017-01-13T09:48:39+08:00</updated>
    <id>http://icps0610.github.io/blog/2017/01/13/link-img</id>
    <content type="html"><![CDATA[<pre><code class="erb">&lt;%= link_to(image_tag("path/to/image.png"), image_path) %&gt;
</code></pre>
]]></content>
  </entry>
  
 </feed>

---
layout: post
title: "debug"
date: 2018-10-15 21:19:16 +0800
comments: true
categories: ruby
---

>> ref https://stackoverflow.com/questions/2603617/ruby-print-the-variable-name-and-then-its-value

``` ruby
def dbg(a, s=nil, &b)
    begin
        v = eval(a.to_s, b.binding)
    rescue Exception => e
        v = e.to_s.split("\n").first
    end
    s = " ------ " if s == 1
    v = "nil" if v.to_s == ""
    puts "#{s}#{a} : #{v}#{s}" if not @dbg == 0
end
#dbg(:var) {}
#@dbg = 0

```
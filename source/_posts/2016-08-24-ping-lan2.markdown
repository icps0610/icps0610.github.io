---
layout: post
title: "ping_lan2"
date: 2016-08-24 00:36:40 +0800
comments: true
categories: bat
---
``` bat
@echo off
SETLOCAL ENABLEDELAYEDEXPANSION

for /l %%i in (0,51,250) do (
    set /a e=%%i+51
    set /a s=%%i+1
    
    echo !s! !e!
    start lan.bat !s! !e!
)

@echo off
SETLOCAL ENABLEDELAYEDEXPANSION
set lan=192.168.0
set start=%1
set stop=%2
for /l %%i in (%start%,1,%stop%) do (
   ping -n 1 -w 1 %lan%.%%i > nul
    if !errorlevel! == 0 (
        echo %lan%.%%i O
    ) else (
        echo %lan%.%%i X
    )
)
exit
```

``` bat
@echo off
SETLOCAL ENABLEDELAYEDEXPANSION
FOR /F %%i in (ip.txt) do (
   ping -n 1 -w 1 %%i > nul
	if !errorlevel! == 0 (
		echo %%i O
	) else (
		echo %%i X 
	)
)

```

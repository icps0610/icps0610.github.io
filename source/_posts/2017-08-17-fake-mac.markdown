---
layout: post
title: "fake_mac"
date: 2017-08-17 00:27:25 +0800
comments: true
categories: ruby
---

```	ruby
#http://standards-oui.ieee.org/oui.txt

m = (0..15).map{|i|i.to_s(16).upcase}
random_mac = (0..2).map{"-"+(0..1).map{m.sample}.join}.join
co = File.readlines('oui.txt').map{|i|i.split("\n").join.scan(/(\w{2}-\w{2}-\w{2})\s*\(hex\)\W*(.*)[\r]/)[0]}.compact
mac_co = co.sample
p mac_company = mac_co[1]
p mac = mac_co[0]+random_mac

#dev = "eth0"
#`ifconfig #{dev} down`
#`macchanger -m #{mac} #{dev}`
#`ifconfig #{dev} up`
#`macchanger -s #{dev}`

```
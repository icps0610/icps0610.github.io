---
layout: post
title: "moto"
date: 2018-06-27 01:14:07 +0800
comments: true
categories: ruby
---

``` ruby
#!/usr/bin/env ruby
# encoding: utf-8
require 'rmagick'

def add_number(canvas, x, y, n)
    append_image =  Magick::Image.read(n).first
    canvas.composite!(append_image, x, y, Magick::OverCompositeOp)
end

def run(number)
    x, y = 1232, 1361
    canvas = Magick::Image.read("base.png").first
    number.to_s.split(//).each_with_index do |n, i|
        xn = x + i * 87
        yn = y + rand(0..3)
        add_number(canvas, xn, yn, "#{n}.png")
    end
    tn = rand(0..9)
    add_number(canvas, 1662, 1355, "b#{tn}.png")
    canvas.write("/tmp/moto#{number}.png")
end

p number = rand(10000..99999)
run(number)



```
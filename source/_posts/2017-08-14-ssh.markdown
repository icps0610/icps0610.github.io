---
layout: post
title: "ssh"
date: 2017-08-14 18:21:12 +0800
comments: true
categories: ruby
---
``` ruby
target = ARGV[0]
ip  = `ifconfig | grep cast`.split("\n").map{|i|i.scan(/\d+\.\d+\.\d+\.\d+/)[0]}
lan = ip.map{|i|i.scan(/(\d*\.\d*\.\d*\.)\d*/).join}

if lan.count > 11 
  puts lan
  print "----------\n> "
  ch = STDIN.gets.to_i
  lan = lan[ch-1]
end

system "/usr/bin/ssh #{[lan].join}#{target}"

```
<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[icps]]></title>
  <link href="http://icps0610.github.io/atom.xml" rel="self"/>
  <link href="http://icps0610.github.io/"/>
  <updated>2017-08-21T20:34:38+08:00</updated>
  <id>http://icps0610.github.io/</id>
  <author>
    <name><![CDATA[icps]]></name>
    
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[No_ri_no_rdoc]]></title>
    <link href="http://icps0610.github.io/blog/2017/08/21/no-ri-no-rdoc/"/>
    <updated>2017-08-21T20:27:38+08:00</updated>
    <id>http://icps0610.github.io/blog/2017/08/21/no-ri-no-rdoc</id>
    <content type="html"><![CDATA[<blockquote><blockquote><p>ref  <a href="https://stackoverflow.com/questions/1381725/how-to-make-no-ri-no-rdoc-the-default-for-gem-install">https://stackoverflow.com/questions/1381725/how-to-make-no-ri-no-rdoc-the-default-for-gem-install</a></p></blockquote></blockquote>

<p>ou just add following line to your local ~/.gemrc file (it is in your home folder)</p>

<p><code>gem: --no-document</code>
or you can add this line to the global gemrc config file. Here is how to find it (in Linux)</p>

<p><code>strace gem source 2&gt;&amp;1 | grep gemrc</code></p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Two Wods Regex]]></title>
    <link href="http://icps0610.github.io/blog/2017/08/21/ruby-regex/"/>
    <updated>2017-08-21T04:15:41+08:00</updated>
    <id>http://icps0610.github.io/blog/2017/08/21/ruby-regex</id>
    <content type="html"><![CDATA[<blockquote><blockquote><p>ref <a href="https://stackoverflow.com/questions/10678823/regex-format-for-two-strings">https://stackoverflow.com/questions/10678823/regex-format-for-two-strings</a>
array = [&ldquo;happy&rdquo;,&ldquo;good&rdquo;]
p array.map{|s|s.scan(/\b(hppy|good)\b/).join}</p></blockquote></blockquote>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Rename去掉中文括弧]]></title>
    <link href="http://icps0610.github.io/blog/2017/08/21/qu-diao-zhong-wen-gua-hu/"/>
    <updated>2017-08-21T02:55:06+08:00</updated>
    <id>http://icps0610.github.io/blog/2017/08/21/qu-diao-zhong-wen-gua-hu</id>
    <content type="html"><![CDATA[<p>rename -n &rsquo;s/（(.<em>)）/($1)/&lsquo; *
rename -v &rsquo;s/\s+(.</em>)/$1/&rsquo; *</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Id3tool]]></title>
    <link href="http://icps0610.github.io/blog/2017/08/21/id3tool/"/>
    <updated>2017-08-21T02:47:18+08:00</updated>
    <id>http://icps0610.github.io/blog/2017/08/21/id3tool</id>
    <content type="html"><![CDATA[<p><a href="http://nekohako.xware.cx/id3tool/">http://nekohako.xware.cx/id3tool/</a>
<a href="http://nekohako.xware.cx/id3tool/id3tool-1.2a.tar.gz">http://nekohako.xware.cx/id3tool/id3tool-1.2a.tar.gz</a></p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>usage:
</span><span class='line'>id3tool [&lt;options&gt;] &lt;filename&gt;
</span><span class='line'>  -t, --set-title=WORD          Sets the title to WORD
</span><span class='line'>  -a, --set-album=WORD          Sets the album to WORD
</span><span class='line'>  -r, --set-artist=WORD         Sets the artist to WORD
</span><span class='line'>  -y, --set-year=YEAR           Sets the year to YEAR [4 digits]
</span><span class='line'>  -n, --set-note=WORD           Sets the note to WORD
</span><span class='line'>  -g, --set-genre=INT           Sets the genre code to INT
</span><span class='line'>  -G, --set-genre-word=WORD     Sets the genre to WORD
</span><span class='line'>  -c, --set-track=INT           Sets the track number to INT
</span><span class='line'>  -l, --genre-list              Shows the Genre's and their codes
</span><span class='line'>  -v, --version                 Displays the version
</span><span class='line'>  -h, --help                    Displays this message</span></code></pre></td></tr></table></div></figure>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Lan]]></title>
    <link href="http://icps0610.github.io/blog/2017/08/19/lan/"/>
    <updated>2017-08-19T05:20:51+08:00</updated>
    <id>http://icps0610.github.io/blog/2017/08/19/lan</id>
    <content type="html"><![CDATA[<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
<span class='line-number'>36</span>
<span class='line-number'>37</span>
<span class='line-number'>38</span>
<span class='line-number'>39</span>
<span class='line-number'>40</span>
<span class='line-number'>41</span>
<span class='line-number'>42</span>
<span class='line-number'>43</span>
<span class='line-number'>44</span>
<span class='line-number'>45</span>
<span class='line-number'>46</span>
<span class='line-number'>47</span>
<span class='line-number'>48</span>
<span class='line-number'>49</span>
<span class='line-number'>50</span>
<span class='line-number'>51</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="k">class</span> <span class="nc">Lan</span>
</span><span class='line'>  <span class="k">def</span> <span class="nf">initialize</span>
</span><span class='line'>    <span class="vi">@thread</span> <span class="o">=</span> <span class="mi">30</span>
</span><span class='line'>    <span class="vi">@width</span> <span class="o">=</span> <span class="mi">15</span>
</span><span class='line'>    <span class="vi">@log_file</span> <span class="o">=</span> <span class="s2">&quot;log&quot;</span>
</span><span class='line'>    <span class="vi">@lan</span> <span class="o">=</span> <span class="n">get_lan</span><span class="o">[</span><span class="mi">1</span><span class="o">]</span>
</span><span class='line'>    <span class="vi">@log</span> <span class="o">=</span> <span class="o">[]</span>
</span><span class='line'>    <span class="vi">@wait</span> <span class="o">=</span> <span class="mi">300</span>
</span><span class='line'>    <span class="vi">@read_log_wait</span> <span class="o">=</span> <span class="mi">10</span>
</span><span class='line'>    <span class="nb">puts</span> <span class="s2">&quot;</span><span class="si">#{</span><span class="vi">@lan</span><span class="si">}</span><span class="s2">0/24&quot;</span>
</span><span class='line'>
</span><span class='line'>    <span class="n">read_log</span><span class="o">.</span><span class="n">each_slice</span><span class="p">(</span><span class="vi">@thread</span><span class="p">)</span><span class="o">.</span><span class="n">each</span> <span class="k">do</span> <span class="o">|</span><span class="n">list</span><span class="o">|</span>
</span><span class='line'>      <span class="n">threads</span> <span class="o">=</span> <span class="o">[]</span> <span class="p">;</span> <span class="n">line</span> <span class="o">=</span> <span class="o">[]</span>
</span><span class='line'>      <span class="n">list</span><span class="o">.</span><span class="n">each</span> <span class="k">do</span> <span class="o">|</span><span class="n">ip</span><span class="o">|</span>
</span><span class='line'>        <span class="n">threads</span> <span class="o">&lt;&lt;</span> <span class="no">Thread</span><span class="o">.</span><span class="n">new</span> <span class="p">{</span> <span class="n">line</span> <span class="o">&lt;&lt;</span> <span class="n">error</span><span class="p">(</span> <span class="n">ip</span><span class="p">)</span> <span class="p">}</span>
</span><span class='line'>      <span class="k">end</span>
</span><span class='line'>      <span class="n">threads</span><span class="o">.</span><span class="n">each</span> <span class="p">{</span> <span class="o">|</span><span class="n">t</span><span class="o">|</span> <span class="n">t</span><span class="o">.</span><span class="n">join</span> <span class="p">}</span>
</span><span class='line'>      <span class="nb">display</span><span class="p">(</span><span class="n">line</span><span class="p">,</span> <span class="n">list</span><span class="p">)</span>
</span><span class='line'>      <span class="n">line</span><span class="o">.</span><span class="n">map</span><span class="p">{</span><span class="o">|</span><span class="nb">p</span><span class="p">,</span><span class="n">ip</span><span class="o">|</span> <span class="n">ip</span> <span class="k">if</span> <span class="nb">p</span> <span class="o">==</span> <span class="s2">&quot; ■&quot;</span><span class="p">}</span><span class="o">.</span><span class="n">compact</span><span class="o">.</span><span class="n">each</span><span class="p">{</span><span class="o">|</span><span class="n">ip</span><span class="o">|</span> <span class="vi">@log</span> <span class="o">&lt;&lt;</span> <span class="n">ip</span> <span class="p">}</span> <span class="k">if</span> <span class="ow">not</span> <span class="no">File</span><span class="o">.</span><span class="n">exist?</span> <span class="vi">@log_file</span>
</span><span class='line'>    <span class="k">end</span>
</span><span class='line'>    <span class="vi">@log</span><span class="o">.</span><span class="n">each</span><span class="p">{</span><span class="o">|</span><span class="n">l</span><span class="o">|</span> <span class="sb">`echo </span><span class="si">#{</span><span class="n">l</span><span class="si">}</span><span class="sb"> &gt;&gt; </span><span class="si">#{</span><span class="vi">@log_file</span><span class="si">}</span><span class="sb">`</span><span class="p">}</span> <span class="k">if</span> <span class="ow">not</span> <span class="no">File</span><span class="o">.</span><span class="n">exist?</span> <span class="vi">@log_file</span>
</span><span class='line'>    <span class="nb">puts</span>
</span><span class='line'>  <span class="k">end</span>
</span><span class='line'>
</span><span class='line'>  <span class="k">def</span> <span class="nf">get_lan</span>
</span><span class='line'>    <span class="n">ip</span>  <span class="o">=</span> <span class="sb">`ifconfig | grep cast`</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">map</span><span class="p">{</span><span class="o">|</span><span class="n">i</span><span class="o">|</span><span class="n">i</span><span class="o">.</span><span class="n">scan</span><span class="p">(</span><span class="sr">/\d+\.\d+\.\d+\.\d+/</span><span class="p">)</span><span class="o">[</span><span class="mi">0</span><span class="o">]</span><span class="p">}</span>
</span><span class='line'>    <span class="n">lan</span> <span class="o">=</span> <span class="n">ip</span><span class="o">.</span><span class="n">map</span><span class="p">{</span><span class="o">|</span><span class="n">i</span><span class="o">|</span><span class="n">i</span><span class="o">.</span><span class="n">scan</span><span class="p">(</span><span class="sr">/(\d*\.\d*\.\d*\.)\d*/</span><span class="p">)</span><span class="o">.</span><span class="n">join</span><span class="p">}</span>
</span><span class='line'>  <span class="k">end</span>
</span><span class='line'>
</span><span class='line'>  <span class="k">def</span> <span class="nf">read_log</span>
</span><span class='line'>    <span class="k">begin</span>
</span><span class='line'>      <span class="vi">@wait</span> <span class="o">=</span> <span class="vi">@read_log_wait</span>
</span><span class='line'>      <span class="no">IO</span><span class="o">.</span><span class="n">binread</span><span class="p">(</span><span class="vi">@log_file</span><span class="p">)</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span class='line'>    <span class="k">rescue</span>
</span><span class='line'>      <span class="p">(</span><span class="mi">1</span><span class="o">.</span><span class="n">.</span><span class="mi">254</span><span class="p">)</span><span class="o">.</span><span class="n">to_a</span><span class="o">.</span><span class="n">map</span><span class="p">{</span><span class="o">|</span><span class="n">i</span><span class="o">|</span> <span class="s2">&quot;</span><span class="si">#{</span><span class="vi">@lan</span><span class="si">}#{</span><span class="n">i</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">}</span>
</span><span class='line'>    <span class="k">end</span>
</span><span class='line'>  <span class="k">end</span>
</span><span class='line'>
</span><span class='line'>  <span class="k">def</span> <span class="nf">error</span><span class="p">(</span><span class="n">ip</span><span class="p">)</span>
</span><span class='line'>    <span class="sb">`fping </span><span class="si">#{</span><span class="n">ip</span><span class="si">}</span><span class="sb"> -t </span><span class="si">#{</span><span class="vi">@wait</span><span class="si">}</span><span class="sb">`</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="s2">&quot;alive&quot;</span><span class="p">)</span> <span class="o">==</span> <span class="kp">nil</span> <span class="p">?</span> <span class="o">[</span><span class="s2">&quot; □&quot;</span><span class="p">,</span> <span class="n">ip</span><span class="o">]</span> <span class="p">:</span>  <span class="o">[</span><span class="s2">&quot; ■&quot;</span><span class="p">,</span> <span class="n">ip</span><span class="o">]</span>
</span><span class='line'>  <span class="k">end</span>
</span><span class='line'>
</span><span class='line'>  <span class="k">def</span> <span class="nf">display</span><span class="p">(</span><span class="n">line</span><span class="p">,</span> <span class="n">ip</span><span class="p">)</span>
</span><span class='line'>    <span class="n">line</span> <span class="o">=</span> <span class="n">line</span><span class="o">.</span><span class="n">map</span><span class="p">{</span><span class="o">|</span><span class="nb">p</span><span class="p">,</span><span class="n">ip</span><span class="o">|[</span><span class="nb">p</span><span class="p">,</span><span class="n">ip</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;.&quot;</span><span class="p">)</span><span class="o">[</span><span class="mi">3</span><span class="o">].</span><span class="n">to_i</span><span class="o">]</span><span class="p">}</span><span class="o">.</span><span class="n">sort_by</span><span class="p">{</span><span class="o">|</span><span class="nb">p</span><span class="p">,</span><span class="n">ip</span><span class="o">|</span><span class="n">ip</span><span class="p">}</span><span class="o">.</span><span class="n">map</span><span class="p">{</span><span class="o">|</span><span class="nb">p</span><span class="p">,</span><span class="n">ip</span><span class="o">|[</span><span class="nb">p</span><span class="p">,</span><span class="n">ip</span><span class="o">.</span><span class="n">to_s</span><span class="o">.</span><span class="n">rjust</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="s1">&#39;000&#39;</span><span class="p">)</span><span class="o">]</span><span class="p">}</span>
</span><span class='line'>    <span class="n">ip</span><span class="o">.</span><span class="n">each_index</span> <span class="k">do</span> <span class="o">|</span><span class="n">i</span><span class="o">|</span>
</span><span class='line'>      <span class="nb">print</span> <span class="s2">&quot;</span><span class="si">#{</span><span class="n">line</span><span class="o">[</span><span class="n">i</span><span class="o">].</span><span class="n">join</span><span class="si">}</span><span class="s2">&quot;</span>
</span><span class='line'>      <span class="nb">print</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span> <span class="k">if</span> <span class="n">line</span><span class="o">[</span><span class="n">i</span><span class="o">][</span><span class="mi">1</span><span class="o">].</span><span class="n">to_i</span> <span class="o">%</span> <span class="vi">@width</span> <span class="o">==</span> <span class="mi">0</span>
</span><span class='line'>    <span class="k">end</span>
</span><span class='line'>  <span class="k">end</span>
</span><span class='line'><span class="k">end</span>
</span><span class='line'><span class="no">Lan</span><span class="o">.</span><span class="n">new</span>
</span></code></pre></td></tr></table></div></figure>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[OpenWrt]]></title>
    <link href="http://icps0610.github.io/blog/2017/08/18/openwrt/"/>
    <updated>2017-08-18T05:36:34+08:00</updated>
    <id>http://icps0610.github.io/blog/2017/08/18/openwrt</id>
    <content type="html"><![CDATA[<p><code>opkg update</code>
<code>opkg install luci-i18n-base-zh-tw</code></p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Fake_mac]]></title>
    <link href="http://icps0610.github.io/blog/2017/08/17/fake-mac/"/>
    <updated>2017-08-17T00:27:25+08:00</updated>
    <id>http://icps0610.github.io/blog/2017/08/17/fake-mac</id>
    <content type="html"><![CDATA[<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="c1">#http://standards-oui.ieee.org/oui.txt</span>
</span><span class='line'>
</span><span class='line'><span class="k">def</span> <span class="nf">random_mac</span>
</span><span class='line'>  <span class="n">m</span> <span class="o">=</span> <span class="p">(</span><span class="mi">0</span><span class="o">.</span><span class="n">.</span><span class="mi">15</span><span class="p">)</span><span class="o">.</span><span class="n">map</span><span class="p">{</span><span class="o">|</span><span class="n">i</span><span class="o">|</span><span class="n">i</span><span class="o">.</span><span class="n">to_s</span><span class="p">(</span><span class="mi">16</span><span class="p">)</span><span class="o">.</span><span class="n">upcase</span><span class="p">}</span>
</span><span class='line'>  <span class="p">(</span><span class="mi">0</span><span class="o">.</span><span class="n">.</span><span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">map</span><span class="p">{</span><span class="s2">&quot;-&quot;</span><span class="o">+</span><span class="p">(</span><span class="mi">0</span><span class="o">.</span><span class="n">.</span><span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">map</span><span class="p">{</span><span class="n">m</span><span class="o">.</span><span class="n">sample</span><span class="p">}</span><span class="o">.</span><span class="n">join</span><span class="p">}</span><span class="o">.</span><span class="n">join</span>
</span><span class='line'><span class="k">end</span>
</span><span class='line'>
</span><span class='line'><span class="k">def</span> <span class="nf">mac_address</span><span class="p">(</span><span class="n">co</span><span class="p">)</span>
</span><span class='line'>  <span class="n">mac_co</span> <span class="o">=</span> <span class="n">co</span><span class="o">.</span><span class="n">sample</span>
</span><span class='line'>  <span class="nb">puts</span> <span class="n">mac_company</span> <span class="o">=</span> <span class="n">mac_co</span><span class="o">[</span><span class="mi">1</span><span class="o">]</span>
</span><span class='line'>  <span class="nb">puts</span> <span class="n">mac</span> <span class="o">=</span> <span class="n">mac_co</span><span class="o">[</span><span class="mi">0</span><span class="o">]+</span><span class="n">random_mac</span>
</span><span class='line'><span class="k">end</span>
</span><span class='line'>
</span><span class='line'><span class="n">list</span> <span class="o">=</span> <span class="no">File</span><span class="o">.</span><span class="n">readlines</span><span class="p">(</span><span class="s1">&#39;oui.txt&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">map</span><span class="p">{</span><span class="o">|</span><span class="n">i</span><span class="o">|</span><span class="n">i</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">join</span><span class="o">.</span><span class="n">scan</span><span class="p">(</span><span class="sr">/(.{8})\s*\(hex\)\W*(.*)\r/</span><span class="p">)</span><span class="o">[</span><span class="mi">0</span><span class="o">]</span><span class="p">}</span><span class="o">.</span><span class="n">compact</span>
</span><span class='line'><span class="n">mac_address</span><span class="p">(</span><span class="n">list</span><span class="p">)</span>
</span><span class='line'>
</span><span class='line'><span class="n">word</span> <span class="o">=</span> <span class="s2">&quot;D-link&quot;</span><span class="o">.</span><span class="n">downcase</span>
</span><span class='line'><span class="n">list</span> <span class="o">=</span> <span class="n">list</span><span class="o">.</span><span class="n">map</span><span class="p">{</span><span class="o">|</span><span class="n">m</span><span class="p">,</span> <span class="n">c</span><span class="o">|</span> <span class="o">[</span><span class="n">m</span><span class="p">,</span><span class="n">c</span><span class="o">]</span> <span class="k">if</span> <span class="ow">not</span> <span class="n">c</span><span class="o">.</span><span class="n">downcase</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="sr">/.*</span><span class="si">#{</span><span class="n">word</span><span class="si">}</span><span class="sr">.*/</span><span class="p">)}</span><span class="o">.</span><span class="n">compact</span>
</span><span class='line'><span class="n">mac_address</span><span class="p">(</span><span class="n">list</span><span class="p">)</span>
</span><span class='line'>
</span><span class='line'><span class="c1">#dev = &quot;eth0&quot;</span>
</span><span class='line'><span class="c1">#`ifconfig #{dev} down`</span>
</span><span class='line'><span class="c1">#`macchanger -m #{mac} #{dev}`</span>
</span><span class='line'><span class="c1">#`ifconfig #{dev} up`</span>
</span><span class='line'><span class="c1">#`macchanger -s #{dev}`</span>
</span></code></pre></td></tr></table></div></figure>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Wifi-driver]]></title>
    <link href="http://icps0610.github.io/blog/2017/08/16/wifi-driver/"/>
    <updated>2017-08-16T06:35:42+08:00</updated>
    <id>http://icps0610.github.io/blog/2017/08/16/wifi-driver</id>
    <content type="html"><![CDATA[<p>TP-LINK Archer T4U driver</p>

<blockquote><blockquote><p>ref <a href="https://askubuntu.com/questions/802205/how-to-install-tp-link-archer-t4u-driver">https://askubuntu.com/questions/802205/how-to-install-tp-link-archer-t4u-driver</a></p></blockquote></blockquote>

<p>wget <a href="https://github.com/abperiasamy/rtl8812AU_8821AU_linux/archive/master.zip">https://github.com/abperiasamy/rtl8812AU_8821AU_linux/archive/master.zip</a>
unzip master.zip
cd rtl8812AU_8821AU_linux-master
make
make install
modprobe rtl8812au</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Ssh]]></title>
    <link href="http://icps0610.github.io/blog/2017/08/14/ssh/"/>
    <updated>2017-08-14T18:21:12+08:00</updated>
    <id>http://icps0610.github.io/blog/2017/08/14/ssh</id>
    <content type="html"><![CDATA[<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="n">target</span> <span class="o">=</span> <span class="no">ARGV</span><span class="o">[</span><span class="mi">0</span><span class="o">]</span>
</span><span class='line'><span class="n">ip</span>  <span class="o">=</span> <span class="sb">`ifconfig | grep cast`</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">map</span><span class="p">{</span><span class="o">|</span><span class="n">i</span><span class="o">|</span><span class="n">i</span><span class="o">.</span><span class="n">scan</span><span class="p">(</span><span class="sr">/\d+\.\d+\.\d+\.\d+/</span><span class="p">)</span><span class="o">[</span><span class="mi">0</span><span class="o">]</span><span class="p">}</span>
</span><span class='line'><span class="n">lan</span> <span class="o">=</span> <span class="n">ip</span><span class="o">.</span><span class="n">map</span><span class="p">{</span><span class="o">|</span><span class="n">i</span><span class="o">|</span><span class="n">i</span><span class="o">.</span><span class="n">scan</span><span class="p">(</span><span class="sr">/(\d*\.\d*\.\d*\.)\d*/</span><span class="p">)</span><span class="o">.</span><span class="n">join</span><span class="p">}</span>
</span><span class='line'>
</span><span class='line'><span class="k">if</span> <span class="n">lan</span><span class="o">.</span><span class="n">count</span> <span class="o">&gt;</span> <span class="mi">11</span>
</span><span class='line'>  <span class="nb">puts</span> <span class="n">lan</span>
</span><span class='line'>  <span class="nb">print</span> <span class="s2">&quot;----------</span><span class="se">\n</span><span class="s2">&gt; &quot;</span>
</span><span class='line'>  <span class="n">ch</span> <span class="o">=</span> <span class="no">STDIN</span><span class="o">.</span><span class="n">gets</span><span class="o">.</span><span class="n">to_i</span>
</span><span class='line'>  <span class="n">lan</span> <span class="o">=</span> <span class="n">lan</span><span class="o">[</span><span class="n">ch</span><span class="o">-</span><span class="mi">1</span><span class="o">]</span>
</span><span class='line'><span class="k">end</span>
</span><span class='line'>
</span><span class='line'><span class="nb">system</span> <span class="s2">&quot;/usr/bin/ssh </span><span class="si">#{</span><span class="o">[</span><span class="n">lan</span><span class="o">].</span><span class="n">join</span><span class="si">}#{</span><span class="n">target</span><span class="si">}</span><span class="s2">&quot;</span>
</span></code></pre></td></tr></table></div></figure>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Wifi-config]]></title>
    <link href="http://icps0610.github.io/blog/2017/08/14/wifi-config/"/>
    <updated>2017-08-14T14:44:38+08:00</updated>
    <id>http://icps0610.github.io/blog/2017/08/14/wifi-config</id>
    <content type="html"><![CDATA[<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>#/etc/network/interfaces
</span><span class='line'>auto wlan0
</span><span class='line'>iface wlan0 inet static
</span><span class='line'>  address 192.168.0.201
</span><span class='line'>  netmask 255.255.255.0
</span><span class='line'>  gateway 192.168.0.1
</span><span class='line'>  wpa-driver wext
</span><span class='line'>  wpa-ssid SSID</span></code></pre></td></tr></table></div></figure>


<p><code>echo wpa-psk `wpa_passphrase SSID PASSWORDS | grep -E "\spsk=.*\"?" | cut -f 2 -d "=" ` &gt;&gt; /etc/network/interfaces</code></p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="c1">#wifi.sh</span>
</span><span class='line'><span class="n">ssid</span> <span class="o">=</span> <span class="no">ARGV</span><span class="o">[</span><span class="mi">0</span><span class="o">]</span>
</span><span class='line'><span class="n">passwd</span> <span class="o">=</span> <span class="no">ARGV</span><span class="o">[</span><span class="mi">1</span><span class="o">]</span>
</span><span class='line'><span class="nb">puts</span> <span class="n">wpa</span> <span class="o">=</span> <span class="sb">`wpa_passphrase </span><span class="si">#{</span><span class="n">ssid</span><span class="si">}</span><span class="sb"> </span><span class="si">#{</span><span class="n">passwd</span><span class="si">}</span><span class="sb">`</span>
</span><span class='line'><span class="nb">exit</span> <span class="k">if</span> <span class="n">wpa</span> <span class="o">==</span> <span class="s2">&quot;Passphrase must be 8..63 characters</span><span class="se">\n</span><span class="s2">&quot;</span>
</span><span class='line'><span class="n">psk</span> <span class="o">=</span> <span class="n">wpa</span><span class="o">.</span><span class="n">scan</span><span class="p">(</span><span class="sr">/\tpsk=(.*)/</span><span class="p">)</span><span class="o">.</span><span class="n">join</span>
</span><span class='line'>
</span><span class='line'><span class="nb">system</span> <span class="s2">&quot;echo wpa-ssid </span><span class="si">#{</span><span class="n">ssid</span><span class="si">}</span><span class="s2"> &gt;&gt; /etc/network/interfaces&quot;</span>
</span><span class='line'><span class="nb">system</span> <span class="s2">&quot;echo wpa-psk </span><span class="si">#{</span><span class="n">psk</span><span class="si">}</span><span class="s2"> &gt;&gt; /etc/network/interfaces&quot;</span>
</span></code></pre></td></tr></table></div></figure>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Download_deb]]></title>
    <link href="http://icps0610.github.io/blog/2017/08/14/downloaddeb/"/>
    <updated>2017-08-14T12:55:13+08:00</updated>
    <id>http://icps0610.github.io/blog/2017/08/14/downloaddeb</id>
    <content type="html"><![CDATA[<blockquote><blockquote><p>ref <a href="https://askubuntu.com/questions/47865/how-do-i-use-apt-get-to-only-download-packages">https://askubuntu.com/questions/47865/how-do-i-use-apt-get-to-only-download-packages</a></p></blockquote></blockquote>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class=''><span class='line'># dldeb.sh
</span><span class='line'>#! /bin/bash
</span><span class='line'>PACKAGE=$1
</span><span class='line'>URI=`apt-cache show $PACKAGE | grep "Filename:" | cut -f 2 -d " "`
</span><span class='line'>wget http://tw.archive.ubuntu.com/ubuntu/$URI</span></code></pre></td></tr></table></div></figure>




<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>#/etc/udev/rules.d/70-persistent-net.rules
</span><span class='line'>SUBSYSTEM=="net", ACTION=="add", DRIVERS=="?*", ATTR{address}=="79:2B:9E:70:67:4F", ATTR{dev_id}=="0x0", ATTR{type}=="1", KERNEL=="wlan*", NAME="wlan0"
</span><span class='line'>
</span><span class='line'>SUBSYSTEM=="net", ACTION=="add", DRIVERS=="?*", ATTR{address}=="C0:E9:F8:12:F6:6A", ATTR{dev_id}=="0x0", ATTR{type}=="1", KERNEL=="wlan*", NAME="wlan1"</span></code></pre></td></tr></table></div></figure>


<p></p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Minicom]]></title>
    <link href="http://icps0610.github.io/blog/2017/08/14/minicom/"/>
    <updated>2017-08-14T12:28:47+08:00</updated>
    <id>http://icps0610.github.io/blog/2017/08/14/minicom</id>
    <content type="html"><![CDATA[<h3>port</h3>

<p><code>cat /var/log/messages  | grep ttyUSB</code><br/>
<code>ls /dev/ttyUSB*</code></p>

<p><code>apt-get install minicom</code></p>

<p>minicom -s</p>

<h3>config</h3>

<h5>/etc/minicom/minirc.dfl</h5>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Ffmpeg]]></title>
    <link href="http://icps0610.github.io/blog/2017/08/13/ffmpeg/"/>
    <updated>2017-08-13T19:23:03+08:00</updated>
    <id>http://icps0610.github.io/blog/2017/08/13/ffmpeg</id>
    <content type="html"><![CDATA[<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>git clone https://github.com/FFmpeg/FFmpeg.git
</span><span class='line'>./configure --arch=armel --target-os=linux --enable-gpl --enable-nonfree --enable-libmp3lame
</span><span class='line'>make
</span><span class='line'>sudo make install</span></code></pre></td></tr></table></div></figure>



]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Wetty]]></title>
    <link href="http://icps0610.github.io/blog/2017/08/13/wetty/"/>
    <updated>2017-08-13T19:01:19+08:00</updated>
    <id>http://icps0610.github.io/blog/2017/08/13/wetty</id>
    <content type="html"><![CDATA[<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class=''><span class='line'> git clone https://github.com/krishnasrinivas/wetty  
</span><span class='line'> #npm http://node-arm.herokuapp.com/node_latest_armhf.deb 
</span><span class='line'> npm install  
</span><span class='line'> node app.js -p 80</span></code></pre></td></tr></table></div></figure>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Chromecast]]></title>
    <link href="http://icps0610.github.io/blog/2017/08/12/chromecast/"/>
    <updated>2017-08-12T01:43:47+08:00</updated>
    <id>http://icps0610.github.io/blog/2017/08/12/chromecast</id>
    <content type="html"><![CDATA[<p><a href="https://github.com/xat/castnow">https://github.com/xat/castnow</a></p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Fm_radio]]></title>
    <link href="http://icps0610.github.io/blog/2017/08/11/fm/"/>
    <updated>2017-08-11T07:50:07+08:00</updated>
    <id>http://icps0610.github.io/blog/2017/08/11/fm</id>
    <content type="html"><![CDATA[<h3>fm_transmitter</h3>

<h4><a href="https://github.com/markondej/fm_transmitter">https://github.com/markondej/fm_transmitter</a></h4>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>#fm.sh
</span><span class='line'>f=101.5
</span><span class='line'>sox "$1" -r 48000 -c 1 -b 16 -t wav - | fm_transmitter -f $f -
</span><span class='line'>#lame --decode $1 - | fm_transmitter -f $f -
</span><span class='line'>#arecord -D plughw:1,0 -c1 -d 0 -r 22050 -f S16_LE | fm_transmitter -f $f -
</span><span class='line'>
</span><span class='line'># server
</span><span class='line'>#&gt; ffmpeg -i tt.mp3 -f wav - | nc 192.168.0.201 1234
</span><span class='line'># client 
</span><span class='line'>#&gt; nc -l -p 1234 | sox - -r 48000 -c 1 -b 16 -t wav - | fm_transmitter -f 101.5 -
</span></code></pre></td></tr></table></div></figure>


<h3>sox</h3>

<h4>> play FAIL formats: no handler for file extension `mp3'</h4>

<h4>>> apt install libsox-fmt-mp3</h4>

<p>Unable to locate package libavcodec-unstripped-52</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Line-notify]]></title>
    <link href="http://icps0610.github.io/blog/2017/06/23/line-notify/"/>
    <updated>2017-06-23T20:45:29+08:00</updated>
    <id>http://icps0610.github.io/blog/2017/06/23/line-notify</id>
    <content type="html"><![CDATA[<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="n">line</span> <span class="o">=</span> <span class="s2">&quot;https://notify-api.line.me/api/notify&quot;</span>
</span><span class='line'><span class="n">to</span>    <span class="o">=</span> <span class="no">ARGV</span><span class="o">[</span><span class="mi">0</span><span class="o">]</span>
</span><span class='line'><span class="n">msg</span>   <span class="o">=</span> <span class="no">ARGV</span><span class="o">[</span><span class="mi">1</span><span class="o">]</span>
</span><span class='line'><span class="n">image</span> <span class="o">=</span> <span class="no">ARGV</span><span class="o">[</span><span class="mi">2</span><span class="o">]</span>
</span><span class='line'>
</span><span class='line'><span class="k">case</span> <span class="n">to</span>
</span><span class='line'><span class="k">when</span> <span class="s2">&quot;me&quot;</span>
</span><span class='line'>  <span class="n">token</span> <span class="o">=</span> <span class="s2">&quot;AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA&quot;</span>
</span><span class='line'><span class="k">end</span>
</span><span class='line'><span class="k">if</span> <span class="n">image</span> <span class="ow">and</span> <span class="no">File</span><span class="o">.</span><span class="n">exist?</span><span class="p">(</span><span class="n">image</span><span class="p">)</span>
</span><span class='line'>  <span class="n">cmd</span> <span class="o">=</span> <span class="s2">&quot;curl -X POST -H &#39;Authorization: Bearer </span><span class="si">#{</span><span class="n">token</span><span class="si">}</span><span class="s2">&#39; -F &#39;message=</span><span class="si">#{</span><span class="n">msg</span><span class="si">}</span><span class="s2">&#39; -F &#39;imageFile=@</span><span class="si">#{</span><span class="n">image</span><span class="si">}</span><span class="s2">&#39; </span><span class="si">#{</span><span class="n">line</span><span class="si">}</span><span class="s2">&quot;</span>
</span><span class='line'><span class="k">elsif</span> <span class="n">image</span> <span class="o">==</span> <span class="kp">nil</span>
</span><span class='line'>  <span class="n">cmd</span> <span class="o">=</span> <span class="s2">&quot;curl -X POST -H &#39;Authorization: Bearer </span><span class="si">#{</span><span class="n">token</span><span class="si">}</span><span class="s2">&#39; -F &#39;message=</span><span class="si">#{</span><span class="n">msg</span><span class="si">}</span><span class="s2">&#39; </span><span class="si">#{</span><span class="n">line</span><span class="si">}</span><span class="s2">&quot;</span>
</span><span class='line'><span class="k">else</span>
</span><span class='line'>  <span class="n">cmd</span> <span class="o">=</span> <span class="s2">&quot;curl -X POST -H &#39;Authorization: Bearer </span><span class="si">#{</span><span class="n">token</span><span class="si">}</span><span class="s2">&#39; -F &#39;message=file cant find&#39; </span><span class="si">#{</span><span class="n">line</span><span class="si">}</span><span class="s2">&quot;</span>
</span><span class='line'><span class="k">end</span>
</span><span class='line'>
</span><span class='line'><span class="nb">system</span> <span class="n">cmd</span>
</span></code></pre></td></tr></table></div></figure>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Json]]></title>
    <link href="http://icps0610.github.io/blog/2017/06/19/json/"/>
    <updated>2017-06-19T19:51:53+08:00</updated>
    <id>http://icps0610.github.io/blog/2017/06/19/json</id>
    <content type="html"><![CDATA[<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="nb">require</span> <span class="s1">&#39;net/http&#39;</span>
</span><span class='line'><span class="nb">require</span> <span class="s1">&#39;uri&#39;</span>
</span><span class='line'><span class="nb">require</span> <span class="s1">&#39;json&#39;</span>
</span><span class='line'>
</span><span class='line'><span class="n">uri</span> <span class="o">=</span> <span class="no">URI</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="s1">&#39;http://www.example.com/sample.json&#39;</span><span class="p">)</span>
</span><span class='line'><span class="n">json</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">uri</span><span class="p">)</span>
</span><span class='line'><span class="n">result</span> <span class="o">=</span> <span class="no">JSON</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="n">json</span><span class="p">)</span>
</span><span class='line'><span class="nb">puts</span> <span class="n">result</span>
</span></code></pre></td></tr></table></div></figure>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Html-css]]></title>
    <link href="http://icps0610.github.io/blog/2017/06/03/html-css/"/>
    <updated>2017-06-03T07:19:32+08:00</updated>
    <id>http://icps0610.github.io/blog/2017/06/03/html-css</id>
    <content type="html"><![CDATA[
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Mysql-python]]></title>
    <link href="http://icps0610.github.io/blog/2017/05/29/mysql-python/"/>
    <updated>2017-05-29T22:26:31+08:00</updated>
    <id>http://icps0610.github.io/blog/2017/05/29/mysql-python</id>
    <content type="html"><![CDATA[<p>ref>> <a href="http://www.runoob.com/python3/python3-mysql.html">http://www.runoob.com/python3/python3-mysql.html</a>
ref>> <a href="http://note.drx.tw/2012/12/mysql-syntax.html">http://note.drx.tw/2012/12/mysql-syntax.html</a></p>
]]></content>
  </entry>
  
</feed>

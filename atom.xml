<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[icps]]></title>
  <link href="http://icps0610.github.io/atom.xml" rel="self"/>
  <link href="http://icps0610.github.io/"/>
  <updated>2017-08-14T12:57:28+08:00</updated>
  <id>http://icps0610.github.io/</id>
  <author>
    <name><![CDATA[icps]]></name>
    
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[Download_deb]]></title>
    <link href="http://icps0610.github.io/blog/2017/08/14/downloaddeb/"/>
    <updated>2017-08-14T12:55:13+08:00</updated>
    <id>http://icps0610.github.io/blog/2017/08/14/downloaddeb</id>
    <content type="html"><![CDATA[<blockquote><blockquote><p>ref <a href="https://askubuntu.com/questions/47865/how-do-i-use-apt-get-to-only-download-packages">https://askubuntu.com/questions/47865/how-do-i-use-apt-get-to-only-download-packages</a></p></blockquote></blockquote>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class=''><span class='line'># dldeb.sh
</span><span class='line'>#! /bin/bash
</span><span class='line'>PACKAGE=$1
</span><span class='line'>URI=`apt-cache show $PACKAGE | grep "Filename:" | cut -f 2 -d " "`
</span><span class='line'>wget http://tw.archive.ubuntu.com/ubuntu/$URI</span></code></pre></td></tr></table></div></figure>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Minicom]]></title>
    <link href="http://icps0610.github.io/blog/2017/08/14/minicom/"/>
    <updated>2017-08-14T12:28:47+08:00</updated>
    <id>http://icps0610.github.io/blog/2017/08/14/minicom</id>
    <content type="html"><![CDATA[<h3>port</h3>

<p><code>cat /var/log/messages  | grep ttyUSB</code><br/>
<code>ls /dev/ttyUSB*</code></p>

<p><code>apt-get install minicom</code></p>

<p>minicom -s</p>

<h3>config</h3>

<h5>/etc/minicom/minirc.dfl</h5>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Ffmpeg]]></title>
    <link href="http://icps0610.github.io/blog/2017/08/13/ffmpeg/"/>
    <updated>2017-08-13T19:23:03+08:00</updated>
    <id>http://icps0610.github.io/blog/2017/08/13/ffmpeg</id>
    <content type="html"><![CDATA[<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>git clone https://github.com/FFmpeg/FFmpeg.git
</span><span class='line'>./configure --arch=armel --target-os=linux --enable-gpl --enable-nonfree --enable-libmp3lame
</span><span class='line'>make
</span><span class='line'>sudo make install</span></code></pre></td></tr></table></div></figure>



]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Wetty]]></title>
    <link href="http://icps0610.github.io/blog/2017/08/13/wetty/"/>
    <updated>2017-08-13T19:01:19+08:00</updated>
    <id>http://icps0610.github.io/blog/2017/08/13/wetty</id>
    <content type="html"><![CDATA[<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class=''><span class='line'> git clone https://github.com/krishnasrinivas/wetty  
</span><span class='line'> #npm http://node-arm.herokuapp.com/node_latest_armhf.deb 
</span><span class='line'> npm install  
</span><span class='line'> node app.js -p 80</span></code></pre></td></tr></table></div></figure>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Chromecast]]></title>
    <link href="http://icps0610.github.io/blog/2017/08/12/chromecast/"/>
    <updated>2017-08-12T01:43:47+08:00</updated>
    <id>http://icps0610.github.io/blog/2017/08/12/chromecast</id>
    <content type="html"><![CDATA[<p><a href="https://github.com/xat/castnow">https://github.com/xat/castnow</a></p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Fm_radio]]></title>
    <link href="http://icps0610.github.io/blog/2017/08/11/fm/"/>
    <updated>2017-08-11T07:50:07+08:00</updated>
    <id>http://icps0610.github.io/blog/2017/08/11/fm</id>
    <content type="html"><![CDATA[<h3>fm_transmitter</h3>

<h4><a href="https://github.com/markondej/fm_transmitter">https://github.com/markondej/fm_transmitter</a></h4>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>#fm.sh
</span><span class='line'>f=101.5
</span><span class='line'>sox "$1" -r 48000 -c 1 -b 16 -t wav - | fm_transmitter -f $f -
</span><span class='line'>#lame --decode $1 - | fm_transmitter -f $f -
</span><span class='line'>#arecord -D plughw:1,0 -c1 -d 0 -r 22050 -f S16_LE | fm_transmitter -f $f -
</span><span class='line'>
</span><span class='line'># server
</span><span class='line'>#&gt; ffmpeg -i tt.mp3 -f wav - | nc 192.168.0.201 1234
</span><span class='line'># client 
</span><span class='line'>#&gt; nc -l -p 1234 | sox - -r 48000 -c 1 -b 16 -t wav - | fm_transmitter -f 101.5 -
</span></code></pre></td></tr></table></div></figure>


<h3>sox</h3>

<h4>> play FAIL formats: no handler for file extension `mp3'</h4>

<h4>>> apt install libsox-fmt-mp3</h4>

<p>Unable to locate package libavcodec-unstripped-52</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Line-notify]]></title>
    <link href="http://icps0610.github.io/blog/2017/06/23/line-notify/"/>
    <updated>2017-06-23T20:45:29+08:00</updated>
    <id>http://icps0610.github.io/blog/2017/06/23/line-notify</id>
    <content type="html"><![CDATA[<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="n">line</span> <span class="o">=</span> <span class="s2">&quot;https://notify-api.line.me/api/notify&quot;</span>
</span><span class='line'><span class="n">to</span>    <span class="o">=</span> <span class="no">ARGV</span><span class="o">[</span><span class="mi">0</span><span class="o">]</span>
</span><span class='line'><span class="n">msg</span>   <span class="o">=</span> <span class="no">ARGV</span><span class="o">[</span><span class="mi">1</span><span class="o">]</span>
</span><span class='line'><span class="n">image</span> <span class="o">=</span> <span class="no">ARGV</span><span class="o">[</span><span class="mi">2</span><span class="o">]</span>
</span><span class='line'>
</span><span class='line'><span class="k">case</span> <span class="n">to</span>
</span><span class='line'><span class="k">when</span> <span class="s2">&quot;me&quot;</span>
</span><span class='line'>  <span class="n">token</span> <span class="o">=</span> <span class="s2">&quot;AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA&quot;</span>
</span><span class='line'><span class="k">end</span>
</span><span class='line'><span class="k">if</span> <span class="n">image</span> <span class="ow">and</span> <span class="no">File</span><span class="o">.</span><span class="n">exist?</span><span class="p">(</span><span class="n">image</span><span class="p">)</span>
</span><span class='line'>  <span class="n">cmd</span> <span class="o">=</span> <span class="s2">&quot;curl -X POST -H &#39;Authorization: Bearer </span><span class="si">#{</span><span class="n">token</span><span class="si">}</span><span class="s2">&#39; -F &#39;message=</span><span class="si">#{</span><span class="n">msg</span><span class="si">}</span><span class="s2">&#39; -F &#39;imageFile=@</span><span class="si">#{</span><span class="n">image</span><span class="si">}</span><span class="s2">&#39; </span><span class="si">#{</span><span class="n">line</span><span class="si">}</span><span class="s2">&quot;</span>
</span><span class='line'><span class="k">elsif</span> <span class="n">image</span> <span class="o">==</span> <span class="kp">nil</span>
</span><span class='line'>  <span class="n">cmd</span> <span class="o">=</span> <span class="s2">&quot;curl -X POST -H &#39;Authorization: Bearer </span><span class="si">#{</span><span class="n">token</span><span class="si">}</span><span class="s2">&#39; -F &#39;message=</span><span class="si">#{</span><span class="n">msg</span><span class="si">}</span><span class="s2">&#39; </span><span class="si">#{</span><span class="n">line</span><span class="si">}</span><span class="s2">&quot;</span>
</span><span class='line'><span class="k">else</span>
</span><span class='line'>  <span class="n">cmd</span> <span class="o">=</span> <span class="s2">&quot;curl -X POST -H &#39;Authorization: Bearer </span><span class="si">#{</span><span class="n">token</span><span class="si">}</span><span class="s2">&#39; -F &#39;message=file cant find&#39; </span><span class="si">#{</span><span class="n">line</span><span class="si">}</span><span class="s2">&quot;</span>
</span><span class='line'><span class="k">end</span>
</span><span class='line'>
</span><span class='line'><span class="nb">system</span> <span class="n">cmd</span>
</span></code></pre></td></tr></table></div></figure>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Json]]></title>
    <link href="http://icps0610.github.io/blog/2017/06/19/json/"/>
    <updated>2017-06-19T19:51:53+08:00</updated>
    <id>http://icps0610.github.io/blog/2017/06/19/json</id>
    <content type="html"><![CDATA[<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="nb">require</span> <span class="s1">&#39;net/http&#39;</span>
</span><span class='line'><span class="nb">require</span> <span class="s1">&#39;uri&#39;</span>
</span><span class='line'><span class="nb">require</span> <span class="s1">&#39;json&#39;</span>
</span><span class='line'>
</span><span class='line'><span class="n">uri</span> <span class="o">=</span> <span class="no">URI</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="s1">&#39;http://www.example.com/sample.json&#39;</span><span class="p">)</span>
</span><span class='line'><span class="n">json</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">uri</span><span class="p">)</span>
</span><span class='line'><span class="n">result</span> <span class="o">=</span> <span class="no">JSON</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="n">json</span><span class="p">)</span>
</span><span class='line'><span class="nb">puts</span> <span class="n">result</span>
</span></code></pre></td></tr></table></div></figure>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Html-css]]></title>
    <link href="http://icps0610.github.io/blog/2017/06/03/html-css/"/>
    <updated>2017-06-03T07:19:32+08:00</updated>
    <id>http://icps0610.github.io/blog/2017/06/03/html-css</id>
    <content type="html"><![CDATA[
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Mysql-python]]></title>
    <link href="http://icps0610.github.io/blog/2017/05/29/mysql-python/"/>
    <updated>2017-05-29T22:26:31+08:00</updated>
    <id>http://icps0610.github.io/blog/2017/05/29/mysql-python</id>
    <content type="html"><![CDATA[<p>ref>> <a href="http://www.runoob.com/python3/python3-mysql.html">http://www.runoob.com/python3/python3-mysql.html</a>
ref>> <a href="http://note.drx.tw/2012/12/mysql-syntax.html">http://note.drx.tw/2012/12/mysql-syntax.html</a></p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[SoundWire]]></title>
    <link href="http://icps0610.github.io/blog/2017/05/29/soundwire/"/>
    <updated>2017-05-29T21:57:37+08:00</updated>
    <id>http://icps0610.github.io/blog/2017/05/29/soundwire</id>
    <content type="html"><![CDATA[<p><code>http://soundwire-server.en.uptodown.com/windows</code></p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Charts]]></title>
    <link href="http://icps0610.github.io/blog/2017/05/26/charts/"/>
    <updated>2017-05-26T20:54:03+08:00</updated>
    <id>http://icps0610.github.io/blog/2017/05/26/charts</id>
    <content type="html"><![CDATA[<p><code>http://pygal.org/en/stable/documentation/index.html</code></p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
</pre></td><td class='code'><pre><code class='python'><span class='line'><span class="kn">import</span> <span class="nn">pygal</span>
</span><span class='line'><span class="n">pie_chart</span> <span class="o">=</span> <span class="n">pygal</span><span class="o">.</span><span class="n">Pie</span><span class="p">()</span>
</span><span class='line'><span class="n">pie_chart</span><span class="o">.</span><span class="n">title</span> <span class="o">=</span> <span class="s">&#39;PTT&#39;</span>
</span><span class='line'>
</span><span class='line'><span class="k">for</span> <span class="n">r</span> <span class="ow">in</span> <span class="n">result</span><span class="p">:</span>
</span><span class='line'>    <span class="n">pie_chart</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">r</span><span class="p">[</span><span class="s">&#39;country&#39;</span><span class="p">],</span> <span class="n">r</span><span class="p">[</span><span class="s">&#39;number&#39;</span><span class="p">])</span>
</span><span class='line'><span class="n">pie_chart</span><span class="o">.</span><span class="n">render_to_file</span><span class="p">(</span><span class="n">DIR_JSON</span><span class="o">+</span><span class="n">board</span><span class="o">+</span><span class="s">&#39;.svg&#39;</span><span class="p">)</span>
</span></code></pre></td></tr></table></div></figure>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Html2pdf]]></title>
    <link href="http://icps0610.github.io/blog/2017/05/25/html2pdf/"/>
    <updated>2017-05-25T03:56:46+08:00</updated>
    <id>http://icps0610.github.io/blog/2017/05/25/html2pdf</id>
    <content type="html"><![CDATA[<p><code>https://github.com/twtrubiks/python-pdfkit-example</code></p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
</pre></td><td class='code'><pre><code class='python'><span class='line'><span class="n">config</span> <span class="o">=</span> <span class="n">pdfkit</span><span class="o">.</span><span class="n">configuration</span><span class="p">(</span><span class="n">wkhtmltopdf</span><span class="o">=</span><span class="s">&#39;/opt/wkhtmltox/bin/wkhtmltopdf&#39;</span><span class="p">)</span>
</span><span class='line'><span class="n">options</span> <span class="o">=</span> <span class="p">{</span>
</span><span class='line'>    <span class="s">&#39;encoding&#39;</span><span class="p">:</span> <span class="s">&#39;UTF-8&#39;</span><span class="p">,</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'><span class="n">pdfkit</span><span class="o">.</span><span class="n">from_url</span><span class="p">(</span><span class="s">&#39;/tmp/result.html&#39;</span><span class="p">,</span> <span class="s">&#39;/tmp/result.pdf&#39;</span><span class="p">,</span> <span class="n">configuration</span><span class="o">=</span><span class="n">config</span><span class="p">,</span> <span class="n">options</span><span class="o">=</span><span class="n">options</span><span class="p">)</span>
</span><span class='line'><span class="c">#os.system(&quot;/opt/wkhtmltox/bin/wkhtmltoimage /tmp/result.html /tmp/result.jpg&quot;) </span>
</span><span class='line'>
</span><span class='line'>
</span><span class='line'><span class="c">#&lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=UTF-8&quot;&gt;</span>
</span></code></pre></td></tr></table></div></figure>


<blockquote><blockquote><p>ref  <a href="https://github.com/wkhtmltopdf/wkhtmltopdf/issues/3195">https://github.com/wkhtmltopdf/wkhtmltopdf/issues/3195</a></p></blockquote></blockquote>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class='html'><span class='line'><span class="nt">&lt;style&gt;</span>
</span><span class='line'>  <span class="nt">tr</span> <span class="p">{</span> <span class="k">page</span><span class="o">-</span><span class="n">break</span><span class="o">-</span><span class="k">inside</span><span class="o">:</span> <span class="k">avoid</span> <span class="cp">!important</span><span class="p">;</span> <span class="p">}</span>
</span><span class='line'><span class="nt">&lt;/style&gt;</span>
</span></code></pre></td></tr></table></div></figure>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Pip3]]></title>
    <link href="http://icps0610.github.io/blog/2017/05/22/pip3/"/>
    <updated>2017-05-22T23:33:35+08:00</updated>
    <id>http://icps0610.github.io/blog/2017/05/22/pip3</id>
    <content type="html"><![CDATA[<p><code>apt-get install python3-setuptools</code><br/>
<code>easy_install3 pip</code></p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Zfill]]></title>
    <link href="http://icps0610.github.io/blog/2017/05/21/zfill/"/>
    <updated>2017-05-21T16:33:56+08:00</updated>
    <id>http://icps0610.github.io/blog/2017/05/21/zfill</id>
    <content type="html"><![CDATA[<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
</pre></td><td class='code'><pre><code class='python'><span class='line'><span class="s">&quot;test&quot;</span><span class="o">.</span><span class="n">rjust</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
</span><span class='line'><span class="c"># &quot;  test&quot;</span>
</span><span class='line'><span class="s">&quot;test&quot;</span><span class="o">.</span><span class="n">ljust</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
</span><span class='line'><span class="c"># &quot;test  &quot;</span>
</span><span class='line'><span class="s">&quot;test&quot;</span><span class="o">.</span><span class="n">center</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
</span><span class='line'><span class="c"># &quot; test &quot;</span>
</span><span class='line'><span class="s">&quot;test&quot;</span><span class="o">.</span><span class="n">zfill</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
</span><span class='line'><span class="c"># &quot;0test&quot;</span>
</span></code></pre></td></tr></table></div></figure>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Github]]></title>
    <link href="http://icps0610.github.io/blog/2017/05/07/github/"/>
    <updated>2017-05-07T02:24:18+08:00</updated>
    <id>http://icps0610.github.io/blog/2017/05/07/github</id>
    <content type="html"><![CDATA[<p><a href="http://stackoverflow.com/questions/24114676/git-error-failed-to-push-some-refs-to">http://stackoverflow.com/questions/24114676/git-error-failed-to-push-some-refs-to</a></p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Desktop]]></title>
    <link href="http://icps0610.github.io/blog/2017/05/07/desktop/"/>
    <updated>2017-05-07T02:14:55+08:00</updated>
    <id>http://icps0610.github.io/blog/2017/05/07/desktop</id>
    <content type="html"><![CDATA[<pre>
[Desktop Entry]   
Type=Application   
Terminal=true   
Name=File   
Icon=icon.svg   
Exec=gnome-terminal -e 'ls'  
</pre>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Calendar]]></title>
    <link href="http://icps0610.github.io/blog/2017/05/06/calendar/"/>
    <updated>2017-05-06T02:25:27+08:00</updated>
    <id>http://icps0610.github.io/blog/2017/05/06/calendar</id>
    <content type="html"><![CDATA[<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
<span class='line-number'>36</span>
<span class='line-number'>37</span>
<span class='line-number'>38</span>
<span class='line-number'>39</span>
<span class='line-number'>40</span>
<span class='line-number'>41</span>
<span class='line-number'>42</span>
<span class='line-number'>43</span>
<span class='line-number'>44</span>
<span class='line-number'>45</span>
<span class='line-number'>46</span>
<span class='line-number'>47</span>
<span class='line-number'>48</span>
<span class='line-number'>49</span>
<span class='line-number'>50</span>
<span class='line-number'>51</span>
<span class='line-number'>52</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="c1">#!/usr/bin/env ruby</span>
</span><span class='line'><span class="c1"># encoding: utf-8</span>
</span><span class='line'><span class="nb">require</span> <span class="s1">&#39;rmagick&#39;</span>
</span><span class='line'><span class="nb">require</span> <span class="s1">&#39;date&#39;</span>
</span><span class='line'><span class="k">class</span> <span class="nc">Calendar</span>
</span><span class='line'>
</span><span class='line'>  <span class="k">def</span> <span class="nf">initialize</span><span class="p">(</span><span class="n">input</span><span class="p">,</span> <span class="n">output</span><span class="p">)</span>
</span><span class='line'>    <span class="n">today</span> <span class="o">=</span> <span class="no">Time</span><span class="o">.</span><span class="n">now</span>
</span><span class='line'>    <span class="n">year</span><span class="p">,</span> <span class="n">month</span>  <span class="o">=</span> <span class="n">today</span><span class="o">.</span><span class="n">year</span><span class="p">,</span> <span class="n">today</span><span class="o">.</span><span class="n">month</span>
</span><span class='line'>    <span class="vi">@day</span>  <span class="o">=</span>  <span class="n">today</span><span class="o">.</span><span class="n">day</span>
</span><span class='line'>    <span class="vi">@wday</span> <span class="o">=</span>  <span class="no">Date</span><span class="o">.</span><span class="n">new</span><span class="p">(</span> <span class="n">year</span><span class="p">,</span> <span class="n">month</span><span class="p">,</span> <span class="mi">1</span> <span class="p">)</span><span class="o">.</span><span class="n">wday</span>
</span><span class='line'>    <span class="vi">@days</span> <span class="o">=</span>  <span class="no">Date</span><span class="o">.</span><span class="n">new</span><span class="p">(</span> <span class="n">year</span><span class="p">,</span> <span class="n">month</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">day</span>
</span><span class='line'>    <span class="c1">#location</span>
</span><span class='line'>    <span class="n">jpg</span> <span class="o">=</span> <span class="sb">`identify </span><span class="si">#{</span><span class="n">input</span><span class="si">}</span><span class="sb">`</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39; &#39;</span><span class="p">)</span><span class="o">[</span><span class="mi">2</span><span class="o">].</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;x&#39;</span><span class="p">)</span>
</span><span class='line'>    <span class="vi">@x</span><span class="p">,</span><span class="vi">@y</span> <span class="o">=</span> <span class="n">jpg</span><span class="o">[</span><span class="mi">0</span><span class="o">].</span><span class="n">to_i</span><span class="o">-</span><span class="mi">720</span> <span class="p">,</span> <span class="n">jpg</span><span class="o">[</span><span class="mi">1</span><span class="o">].</span><span class="n">to_i</span><span class="o">-</span><span class="mi">1100</span>
</span><span class='line'>    <span class="n">run</span><span class="p">(</span><span class="n">input</span><span class="p">,</span> <span class="n">output</span><span class="p">)</span>
</span><span class='line'>  <span class="k">end</span>
</span><span class='line'>
</span><span class='line'>  <span class="k">def</span> <span class="nf">text</span><span class="p">(</span> <span class="n">color</span><span class="p">,</span> <span class="n">text</span><span class="p">,</span> <span class="n">fixX</span> <span class="p">)</span>
</span><span class='line'>    <span class="vi">@x_day</span><span class="o">||=</span><span class="mi">0</span> <span class="p">;</span>  <span class="vi">@y_day</span><span class="o">||=-</span><span class="mi">1</span>
</span><span class='line'>    <span class="n">x</span><span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="vi">@x</span> <span class="o">+</span> <span class="vi">@sizeX</span><span class="o">*</span><span class="mi">2</span><span class="o">*</span><span class="p">(</span><span class="vi">@x_day</span><span class="p">)</span> <span class="o">+</span> <span class="n">fixX</span><span class="p">,</span> <span class="vi">@y</span> <span class="o">+</span> <span class="vi">@sizeY</span><span class="o">*</span><span class="p">(</span><span class="vi">@y_day</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span>
</span><span class='line'>    <span class="vi">@text</span><span class="o">.</span><span class="n">fill</span> <span class="o">=</span> <span class="s1">&#39;black&#39;</span>
</span><span class='line'>    <span class="vi">@text</span><span class="o">.</span><span class="n">annotate</span><span class="p">(</span><span class="vi">@canvas</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="s2">&quot;</span><span class="si">#{</span><span class="n">text</span><span class="si">}</span><span class="s2">&quot;</span> <span class="p">)</span>
</span><span class='line'>    <span class="vi">@text</span><span class="o">.</span><span class="n">fill</span> <span class="o">=</span> <span class="s2">&quot;</span><span class="si">#{</span><span class="n">color</span><span class="si">}</span><span class="s2">&quot;</span>
</span><span class='line'>    <span class="vi">@text</span><span class="o">.</span><span class="n">annotate</span><span class="p">(</span><span class="vi">@canvas</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">x</span><span class="o">-</span><span class="mi">5</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="s2">&quot;</span><span class="si">#{</span><span class="n">text</span><span class="si">}</span><span class="s2">&quot;</span> <span class="p">)</span>
</span><span class='line'>  <span class="k">end</span>
</span><span class='line'>
</span><span class='line'>  <span class="k">def</span> <span class="nf">run</span><span class="p">(</span><span class="n">input</span><span class="p">,</span> <span class="n">output</span><span class="p">)</span>
</span><span class='line'>    <span class="vi">@canvas</span> <span class="o">=</span> <span class="no">Magick</span><span class="o">::</span><span class="no">ImageList</span><span class="o">.</span><span class="n">new</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="n">input</span><span class="p">)</span>
</span><span class='line'>    <span class="vi">@text</span> <span class="o">=</span> <span class="no">Magick</span><span class="o">::</span><span class="no">Draw</span><span class="o">.</span><span class="n">new</span>
</span><span class='line'>    <span class="vi">@text</span><span class="o">.</span><span class="n">pointsize</span> <span class="o">=</span> <span class="vi">@sizeX</span> <span class="o">=</span> <span class="mi">32</span>
</span><span class='line'>    <span class="vi">@sizeY</span> <span class="o">=</span> <span class="mi">42</span>
</span><span class='line'>    <span class="c1">#title</span>
</span><span class='line'>    <span class="n">title</span> <span class="o">=</span> <span class="sx">%w(SU MO TU WE TH FR SA)</span>
</span><span class='line'>    <span class="n">title</span><span class="o">.</span><span class="n">each_with_index</span> <span class="k">do</span> <span class="o">|</span><span class="n">t</span> <span class="p">,</span> <span class="n">index</span><span class="o">|</span>
</span><span class='line'>      <span class="n">fix</span> <span class="o">=</span>  <span class="vi">@sizeX</span><span class="o">*</span><span class="mi">2</span><span class="o">*</span><span class="n">index</span> <span class="o">+</span> <span class="vi">@sizeX</span><span class="o">/</span><span class="mi">4</span>
</span><span class='line'>      <span class="n">text</span><span class="p">(</span> <span class="s2">&quot;grey&quot;</span><span class="p">,</span> <span class="n">t</span><span class="p">,</span> <span class="n">fix</span> <span class="p">)</span>
</span><span class='line'>    <span class="k">end</span>
</span><span class='line'>    <span class="c1">#days</span>
</span><span class='line'>    <span class="p">(</span><span class="mi">0</span><span class="o">.</span><span class="n">.</span><span class="vi">@days</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">each</span> <span class="k">do</span> <span class="o">|</span><span class="n">d</span><span class="o">|</span>
</span><span class='line'>      <span class="vi">@x_day</span> <span class="o">=</span> <span class="p">(</span> <span class="n">d</span> <span class="o">+</span> <span class="vi">@wday</span> <span class="p">)</span> <span class="o">%</span> <span class="mi">7</span>
</span><span class='line'>      <span class="vi">@y_day</span> <span class="o">=</span> <span class="p">(</span> <span class="n">d</span> <span class="o">+</span> <span class="vi">@wday</span> <span class="p">)</span> <span class="o">/</span> <span class="mi">7</span>
</span><span class='line'>      <span class="n">d</span> <span class="o">+</span> <span class="mi">1</span> <span class="o">==</span> <span class="vi">@day</span> <span class="p">?</span> <span class="n">color</span> <span class="o">=</span> <span class="s2">&quot;red&quot;</span> <span class="p">:</span> <span class="n">color</span> <span class="o">=</span> <span class="s2">&quot;white&quot;</span>
</span><span class='line'>      <span class="n">d</span> <span class="o">&gt;</span> <span class="mi">8</span> <span class="o">?</span> <span class="n">fix</span> <span class="o">=</span> <span class="vi">@sizeX</span><span class="o">/</span><span class="mi">2</span> <span class="p">:</span> <span class="n">fix</span> <span class="o">=</span> <span class="vi">@sizeX</span>
</span><span class='line'>      <span class="n">text</span><span class="p">(</span> <span class="n">color</span><span class="p">,</span> <span class="n">d</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span> <span class="n">fix</span> <span class="p">)</span>
</span><span class='line'>    <span class="k">end</span>
</span><span class='line'>    <span class="c1">#output</span>
</span><span class='line'>    <span class="vi">@canvas</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">output</span><span class="p">)</span>
</span><span class='line'>  <span class="k">end</span>
</span><span class='line'><span class="k">end</span>
</span><span class='line'>
</span><span class='line'><span class="no">Calendar</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="no">ARGV</span><span class="o">[</span><span class="mi">0</span><span class="o">]</span><span class="p">,</span><span class="no">ARGV</span><span class="o">[</span><span class="mi">1</span><span class="o">]</span><span class="p">)</span>
</span></code></pre></td></tr></table></div></figure>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Mount-smb]]></title>
    <link href="http://icps0610.github.io/blog/2017/04/29/mount-smb/"/>
    <updated>2017-04-29T13:51:04+08:00</updated>
    <id>http://icps0610.github.io/blog/2017/04/29/mount-smb</id>
    <content type="html"><![CDATA[<p><code>mount -t cifs //192.168.0.106/form /to -o username="abc",password="1234"</code></p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Tesseract]]></title>
    <link href="http://icps0610.github.io/blog/2017/01/20/tesseract/"/>
    <updated>2017-01-20T11:10:53+08:00</updated>
    <id>http://icps0610.github.io/blog/2017/01/20/tesseract</id>
    <content type="html"><![CDATA[<p><code>apt-get install tesseract-ocr tesseract-ocr-chi-tra</code></p>

<p><code>tesseract image.jpg out -l chi_tra</code></p>
]]></content>
  </entry>
  
</feed>
